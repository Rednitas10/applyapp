<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>App.ly: Account</title>
  <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.2.3/dist/darkly/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='pages/globalstyles.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='pages/account/styles.css') }}">

  <script defer>
    const userId = "{{ user_id }}"; 
  </script>

  <script src="{{ url_for('static', filename='pages/account/index.js') }}"defer></script>
</head>
<body>
  <header>
    <div class="header-flex" id="logo-container">
      <span><img src="{{ url_for('static', filename='pages/logo_small.png') }}" alt="logo"></span>
    </div>
    <div class="header-flex"><span></span></div>
    <div class="header-flex">
      <span>
        <a href="/dashboard">
          <button type="button" class="btn btn-outline-primary">Dashboard</button>
        </a>
        <div style="display: inline-block; min-width: 20px"></div>
        <a href="/login">
          <button type="button" class="btn btn-outline-primary">Log out</button>
        </a>
      </span>
    </div>
  </header>
  <div id="account-container" class="main-card">

    <legend>Account Information</legend>

    <br>

    <div class="view-mode">

      <div class="form-group">
        <div class="label-wrapper">
          <p>First Name:</p>
        </div>
        <div class="input-wrapper">
          <p id="first-name-value"></p>
        </div>
      </div>
  
      <div class="form-group">
        <div class="label-wrapper">
          <p>Last Name:</p>
        </div>
        <div class="input-wrapper">
          <p id="last-name-value"></p>
        </div>
      </div>
    
      <div class="form-group">
        <div class="label-wrapper">
          <p>Email:</p>
        </div>
        <div class="input-wrapper">
          <p id="email-value"></p>
        </div>
      </div>
    
      <div class="form-group">
        <div class="label-wrapper">
          <p>Password:</p>
        </div>
        <div class="input-wrapper">
          <p id="password-value"></p>
        </div>
      </div>

      <div class="form-group">
        <div class="label-wrapper">
          <p>Phone:</p>
        </div>
        <div class="input-wrapper">
          <p id="phone-value"></p>
        </div>
      </div>

      <br>

      <button type="button" class="btn btn-primary" id="btn-edit-user">Edit</button>
      <button type="button" class="btn btn-outline-danger" id="btn-delete-user-account">Delete Account</button>

    </div>

    <div class="edit-mode" style="display: none">

      <form action="/api/update_user" method="POST">

        <div class="form-group">
          <div class="label-wrapper">
            <label for="int-location-input">First Name:</label>
          </div>
          <div class="input-wrapper">
            <input type="text" class="form-control" id="fname-input" name="f_name" required>
          </div>
        </div>
  
        <div class="form-group">
          <div class="label-wrapper">
            <label for="int-location-input">Last Name:</label>
          </div>
          <div class="input-wrapper">
            <input type="text" class="form-control" id="lname-input" name="l_name" required>
          </div>
        </div>
      
        <div class="form-group">
          <div class="label-wrapper">
            <label for="int-time-input">Email:</label>
          </div>
          <div class="input-wrapper">
            <input type="email" class="form-control" id="email-input" name="email" required>
          </div>
        </div>
      
        <div class="form-group">
          <div class="label-wrapper">
            <label for="int-location-input">Password:</label>
          </div>
          <div class="input-wrapper">
            <input type="password" class="form-control" id="password-input" name="password" required>
          </div>
        </div>
      
        <div class="form-group">
          <div class="label-wrapper">
            <label for="int-location-input">Phone:</label>
          </div>
          <div class="input-wrapper">
            <input type="text" class="form-control" id="phone-input" name="phone" oninput="formatPhoneNumber(this)">
          </div>
        </div>
  
        <br>
      
        <button type="submit" class="btn btn-primary" id="save-user-edit-btn">Save</button>
        <button type="button" class="btn btn-outline-danger" id="cancel-user-edit-btn">Cancel</button>

      </form>
    </div>
    
  </div>

</body>
</html>